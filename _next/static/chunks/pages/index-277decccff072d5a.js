(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{48312:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(91577)}])},91577:function(e,n,t){"use strict";function a(e,n,t,a,r,i,s){try{var o=e[i](s),u=o.value}catch(d){return void t(d)}o.done?n(u):Promise.resolve(u).then(a,r)}t.r(n),t.d(n,{default:function(){return j}});var r=t(41799);function i(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}var s=t(34051),o=t.n(s),u=t(85893),d=t(81273),p=t(9008),l=t.n(p),c=t(67294),y=t(5286),m=JSON.parse('{"dx":[{"iF":"0xe41d8f993066db39a5bb3015d66a003792121757"}]}'),f=JSON.parse('{"Mt":[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"operator","type":"address"},{"indexed":false,"internalType":"bool","name":"approved","type":"bool"}],"name":"ApprovalForAll","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":true,"internalType":"uint256","name":"id","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"approve","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"balance","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getApproved","outputs":[{"internalType":"address","name":"operator","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"getUnderlyingToken","outputs":[{"internalType":"address","name":"underlyingContract","type":"address"},{"internalType":"uint256","name":"underlyingTokenId","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"operator","type":"address"}],"name":"isApprovedForAll","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"ownerOf","outputs":[{"internalType":"address","name":"owner","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"underlyingTokenContract","type":"address"},{"internalType":"uint256","name":"underlyingTokenId","type":"uint256"}],"name":"previewTokenURI","outputs":[{"internalType":"string","name":"tokenURI","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"}],"name":"safeTransferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"operator","type":"address"},{"internalType":"bool","name":"_approved","type":"bool"}],"name":"setApprovalForAll","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"},{"internalType":"address","name":"underlyingContract","type":"address"},{"internalType":"uint256","name":"underlyingTokenId","type":"uint256"}],"name":"setUnderlyingToken","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes4","name":"interfaceId","type":"bytes4"}],"name":"supportsInterface","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"tokenURI","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"from","type":"address"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"tokenId","type":"uint256"}],"name":"transferFrom","outputs":[],"stateMutability":"nonpayable","type":"function"}]}'),b=t(214),T=t.n(b),v=t(48764).Buffer,h={addressOrName:m.dx[0].iF,contractInterface:f.Mt},_=function(){var e=(0,c.useState)([]),n=e[0],t=e[1],r=(0,y.yL)(),i=(0,y.cq)({addressOrName:h.addressOrName,contractInterface:f.Mt,signerOrProvider:r});return(0,c.useEffect)((function(){var e=function(){var e,n=(e=o().mark((function e(){var n,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.filters.Transfer("0x0000000000000000000000000000000000000000"),e.next=3,i.queryFilter(n);case 3:a=e.sent,r=a.map((function(e){return e.args.id.toHexString()})),t(r);case 6:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,i){var s=e.apply(n,t);function o(e){a(s,r,i,o,u,"next",e)}function u(e){a(s,r,i,o,u,"throw",e)}o(void 0)}))});return function(){return n.apply(this,arguments)}}();e()}),[]),n},x=function(){var e=_();return 0==e.length?(0,u.jsx)("pre",{children:"Loading filters"}):(0,u.jsx)(g,{tokenIds:e})},g=function(e){var n=e.tokenIds,t=(0,c.useState)(n[0]),a=t[0],s=t[1],o=(0,c.useState)("0xed5af388653567af2f388e6224dc7c4b3241c544"),d=o[0],p=o[1],l=(0,c.useState)("1234"),m=l[0],f=l[1],b=(0,y.do)(i((0,r.Z)({},h),{functionName:"previewTokenURI",args:[a,d,m]})).data;return(0,u.jsxs)("section",{className:T().render,children:[(0,u.jsxs)("div",{className:T().row,children:[(0,u.jsx)("label",{className:T().label,children:"Filter"}),(0,u.jsx)("select",{className:T().input,onChange:function(e){return s(e.target.value)},value:a,children:n.map((function(e){return(0,u.jsx)("option",{children:e},e)}))})]}),(0,u.jsxs)("div",{className:T().row,children:[(0,u.jsx)("label",{className:T().label,children:"NFT contract"}),(0,u.jsx)("input",{className:T().input,onChange:function(e){return p(e.target.value)},placeholder:"0xed5af388653567af2f388e6224dc7c4b3241c544",value:d})]}),(0,u.jsxs)("div",{className:T().row,children:[(0,u.jsx)("label",{className:T().label,children:"NFT token ID"}),(0,u.jsx)("input",{className:T().input,onChange:function(e){return f(e.target.value)},placeholder:"1234",value:m})]}),b?(0,u.jsx)(w,{tokenURI:b}):null,(0,u.jsx)(k,{tokenId:a,underlyingContractAddress:d,underlyingTokenId:m})]})},w=function(e){var n=e.tokenURI,t="";try{var a=JSON.parse(v.from(n.replaceAll("data:application/json;base64,",""),"base64").toString());if(!a.animation_url)throw new Error("No animation_url in metadata: ".concat(JSON.stringify(a,null,2)));if("data:text/html;base64,"===a.animation_url)throw new Error('Underlying token contract & token ID not supported. Make sure it exists and is an ERC721 NFT with an "image" attribute.');t=a.animation_url}catch(r){return console.error("".concat(n," - ").concat(r.stack)),(0,u.jsx)("div",{children:r.message})}return(0,u.jsx)("iframe",{allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",frameBorder:"0",height:"100%",sandbox:"allow-scripts",width:"100%",style:{minHeight:500},src:t})},k=function(e){var n=e.tokenId,t=e.underlyingContractAddress,a=e.underlyingTokenId,s=(0,y.PJ)(i((0,r.Z)({},h),{functionName:"setUnderlyingToken",args:[n,t,a]})).config,o=(0,y.GG)(s),d=o.data,p=o.isLoading,l=o.isSuccess,c=o.write;return(0,u.jsxs)("div",{className:T().submit,children:[(0,u.jsx)("button",{className:T().submitButton,type:"button",onClick:function(){return null===c||void 0===c?void 0:c()},children:"Set Underlying"}),p&&(0,u.jsx)("div",{className:T().transaction,children:"Check Wallet"}),l&&d&&(0,u.jsxs)("div",{className:T().transaction,children:["Transaction: ",d.hash]})]})},j=function(){var e=(0,y.mA)(),n=e.isConnected;e.address;return(0,u.jsxs)("div",{className:T().container,children:[(0,u.jsxs)(l(),{children:[(0,u.jsx)("title",{children:"NFT Filters"}),(0,u.jsx)("meta",{name:"description",content:"Generated by @rainbow-me/create-rainbowkit"}),(0,u.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,u.jsxs)("main",{className:T().main,children:[(0,u.jsx)("h1",{children:"NFT Filters"}),(0,u.jsx)(d.NL,{}),(0,u.jsx)("div",{className:T().grid,children:n?(0,u.jsx)(x,{}):"Please connect to see a preview"})]}),(0,u.jsxs)("footer",{className:T().footer,children:[(0,u.jsx)("a",{href:"https://opensea.io/assets/ethereum/0xe41d8f993066db39a5bb3015d66a003792121757/",children:"View on OpenSea \ud83c\udf0a"}),(0,u.jsx)("a",{href:"https://github.com/MrToph/nft-enhancement",target:"_blank",rel:"noopener noreferrer",children:"Back to GitHub \ud83d\udc68\u200d\ud83d\udcbb"})]})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",render:"Home_render__lWN1l",row:"Home_row__O1CN_",label:"Home_label__UYtOa",input:"Home_input__ZarWZ",submit:"Home_submit__TkaQg",submitButton:"Home_submitButton__zVz66",transaction:"Home_transaction__UodUf"}},9008:function(e,n,t){e.exports=t(5443)}},function(e){e.O(0,[764,774,888,179],(function(){return n=48312,e(e.s=n);var n}));var n=e.O();_N_E=n}]);